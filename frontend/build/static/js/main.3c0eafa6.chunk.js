(this["webpackJsonpfitmind-frontend"]=this["webpackJsonpfitmind-frontend"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),r=a(27),l=a.n(r),n=a(3),c=a(11),i=a(5),d=a(14),j=a.n(d);const m="".concat("https://fitmind-02.onrender.com","/api");var u=a(62),b=a(58),h=a(59),g=a(60),p=a(61),O=a(2);var f=()=>{const[e,t]=Object(s.useState)(""),[a,o]=Object(s.useState)(""),[r,l]=Object(s.useState)(""),c=Object(n.q)();return Object(O.jsxs)(u.a.div,{className:"glass-form",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[Object(O.jsx)("h1",{className:"title",children:"\ud83e\udde0 FitMind"}),Object(O.jsx)("p",{className:"subtitle",children:"Track your mental fitness daily."}),Object(O.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),l("");const r=localStorage.getItem("userId");if(r)try{await(async e=>{try{const t=localStorage.getItem("userId");if(!t)throw new Error("User not logged in.");const a=Object(i.a)(Object(i.a)({},e),{},{user_id:parseInt(t)});return(await j.a.post("".concat(m,"/moods"),a)).data}catch(a){var t;throw console.error("\u274c Error saving mood:",(null===(t=a.response)||void 0===t?void 0:t.data)||a.message),a}})({userId:r,mood:e,notes:a}),l("\u2705 Mood saved successfully!"),t(""),o("")}catch(n){console.error("Error saving mood:",n),l("\u274c Error saving mood. Please try again.")}finally{setTimeout((()=>l("")),3e3)}else l("\u274c You must be logged in to submit mood.")},className:"form",children:[Object(O.jsxs)("label",{className:"label",children:[Object(O.jsx)(b.a,{className:"icon"})," Mood",Object(O.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"input",placeholder:"Happy, Anxious, Calm...",required:!0})]}),Object(O.jsxs)("label",{className:"label",children:[Object(O.jsx)(h.a,{className:"icon"})," What\u2019s going on?",Object(O.jsx)("textarea",{value:a,onChange:e=>o(e.target.value),className:"textarea",placeholder:"Share your thoughts here...",required:!0})]}),Object(O.jsxs)(u.a.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"submit",children:[Object(O.jsx)(g.a,{className:"icon"})," Save Mood"]})]}),Object(O.jsxs)(u.a.button,{className:"submit",style:{marginTop:"15px",backgroundColor:"#0097a7"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("/mood-chart"),children:[Object(O.jsx)(p.a,{className:"icon"})," View Mood Chart"]}),r&&Object(O.jsx)(u.a.div,{className:"feedback ".concat(r.includes("Error")||r.includes("\u274c")?"error":"success"),initial:{opacity:0},animate:{opacity:1},children:r})]})},x=a(28),y=a(4);y.d.register(y.h,y.k,y.i,y.o,y.c,y.p,y.f);var v=()=>{const[e,t]=Object(s.useState)([]),[a,o]=Object(s.useState)(!0);Object(s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("userId");if(!e)throw new Error("User not logged in");const a=await(async()=>{try{const e=localStorage.getItem("userId");if(!e)throw new Error("User not logged in.");return(await j.a.get("".concat(m,"/moods/weekly"),{params:{user_id:parseInt(e)}})).data}catch(t){var e;throw console.error("\u274c Error fetching weekly mood:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),t}})();t(a)}catch(e){console.error("Error fetching mood data:",e)}finally{o(!1)}})()}),[]);const r={labels:e.map((e=>new Date(e.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}))),datasets:[{label:"Mood Sentiment",data:e.map((e=>e.sentiment)),fill:!1,backgroundColor:"#00e5ff",borderColor:"#00e5ff",tension:.3,pointRadius:5,pointHoverRadius:7}]};return Object(O.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"40px"},children:[Object(O.jsx)("h2",{style:{textAlign:"center",color:"#ffffff"},children:"\ud83d\udcc8 Mood Chart"}),a?Object(O.jsx)("p",{style:{textAlign:"center",color:"#ccc"},children:"Loading..."}):0===e.length?Object(O.jsx)("p",{style:{textAlign:"center",color:"#ff8a80"},children:"No mood entries found."}):Object(O.jsx)(x.a,{data:r,options:{responsive:!0,plugins:{legend:{display:!0,labels:{color:"#ffffff"}},tooltip:{callbacks:{label:e=>"Sentiment: ".concat(e.raw)}},title:{display:!0,text:"Your Weekly Mood Trend",color:"#ffffff",font:{size:20}}},scales:{x:{ticks:{color:"#ffffff"},grid:{color:"rgba(255,255,255,0.1)"}},y:{ticks:{color:"#ffffff"},grid:{color:"rgba(255,255,255,0.1)"},beginAtZero:!0}}}})]})};var w=()=>{const[e,t]=Object(s.useState)([]);return Object(s.useEffect)((()=>{t(["Believe in yourself and all that you are.","You are stronger than you think.","Every day may not be good, but there is something good in every day.","Keep your face always toward the sunshine\u2014and shadows will fall behind you.","The only way to do great work is to love what you do."])}),[]),Object(O.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",padding:"20px"},children:[Object(O.jsx)("h2",{children:"\ud83c\udf1f Uplifting Messages"}),Object(O.jsx)("ul",{style:{listStyleType:"disc",paddingLeft:"20px"},children:e.map(((e,t)=>Object(O.jsx)("li",{style:{marginBottom:"10px",fontSize:"1.1em"},children:e},t)))})]})};a(25);var S=function(){const[e,t]=Object(s.useState)(""),[a,o]=Object(s.useState)(""),[r,l]=Object(s.useState)(!1),[c,i]=Object(s.useState)(""),d=Object(n.q)();return Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("div",{className:"title-banner"}),Object(O.jsxs)("div",{className:"login-card",children:[Object(O.jsx)("div",{className:"avatar-wrapper",children:Object(O.jsx)("span",{className:"emoji",role:"img","aria-label":"mind",children:"\ud83e\udde0"})}),Object(O.jsxs)("form",{className:"login-form",onSubmit:async t=>{if(t.preventDefault(),i(""),e&&a){l(!0);try{const t=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),s=await t.json();if(!t.ok)throw new Error(s.message||"Login failed");localStorage.setItem("userId",s.userId),localStorage.setItem("username",s.username),alert("\u2705 Login successful!"),d("/")}catch(s){i(s.message||"Something went wrong.")}finally{l(!1)}}else i("Please fill in both fields.")},noValidate:!0,children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",placeholder:"email@domain.com",value:e,onChange:e=>t(e.target.value),required:!0,autoComplete:"username"}),Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:a,onChange:e=>o(e.target.value),required:!0,autoComplete:"current-password"}),c&&Object(O.jsx)("p",{className:"error-msg",children:c}),Object(O.jsx)("button",{type:"submit",disabled:r,children:r?"Logging in...":"Log in"})]}),Object(O.jsxs)("p",{className:"auth-link-prompt",children:["Don\u2019t have an account? ",Object(O.jsx)("a",{href:"/Register",children:"Sign up"})]})]})]})};var N=function(){const[e,t]=Object(s.useState)(""),[a,o]=Object(s.useState)(""),[r,l]=Object(s.useState)(""),[c,i]=Object(s.useState)(""),[d,j]=Object(s.useState)(!1),m=Object(n.q)();return Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("div",{className:"title-banner",children:"Register - FitMind"}),Object(O.jsxs)("div",{className:"login-card",children:[Object(O.jsx)("div",{className:"avatar-wrapper",children:Object(O.jsx)("span",{className:"emoji",role:"img","aria-label":"brain",children:"\ud83e\udde0"})}),Object(O.jsxs)("form",{className:"login-form",onSubmit:async t=>{if(t.preventDefault(),i(""),e&&a&&r){j(!0);try{const t=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,username:a,password:r})}),s=await t.json();if(!t.ok)throw new Error(s.message||"Registration failed");alert("\u2705 Registered successfully! You can now log in."),m("/Login")}catch(s){i(s.message)}finally{j(!1)}}else i("All fields are required.")},noValidate:!0,children:[Object(O.jsx)("label",{htmlFor:"username",children:"Username"}),Object(O.jsx)("input",{type:"text",id:"username",placeholder:"Your name",autoComplete:"name",value:a,onChange:e=>o(e.target.value),required:!0}),Object(O.jsx)("label",{htmlFor:"email",children:"Email"}),Object(O.jsx)("input",{type:"email",id:"email",placeholder:"email@domain.com",autoComplete:"email",value:e,onChange:e=>t(e.target.value),required:!0}),Object(O.jsx)("label",{htmlFor:"password",children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password",placeholder:"Password",autoComplete:"new-password",value:r,onChange:e=>l(e.target.value),required:!0}),c&&Object(O.jsx)("p",{className:"error-msg",children:c}),Object(O.jsx)("button",{type:"submit",disabled:d,children:d?"Registering...":"Register"})]}),Object(O.jsxs)("p",{className:"auth-link-prompt",children:["Already have an account? ",Object(O.jsx)("a",{href:"/Login",children:"Log in"})]})]})]})};a(26);const I=()=>{const e=Object(n.q)();return Object(O.jsx)("button",{className:"logout-button",onClick:()=>{localStorage.removeItem("userId"),localStorage.removeItem("username"),alert("Logged out successfully."),e("/login")},children:"Logout"})},k=e=>{let{children:t}=e;return!!localStorage.getItem("userId")?Object(O.jsxs)("div",{className:"protected-wrapper",children:[Object(O.jsx)(I,{}),t]}):Object(O.jsx)(n.a,{to:"/login"})};var C=function(){const e=!!localStorage.getItem("userId"),t=localStorage.getItem("username"),a=window.location.pathname;return Object(O.jsx)(c.a,{children:Object(O.jsxs)("div",{className:"App",children:[e&&"/"===a&&t&&Object(O.jsxs)("div",{className:"hello-banner",children:["Hello, ",localStorage.getItem("username")||"\ud83d\ude0a"]}),Object(O.jsx)("div",{className:"date-display",children:(new Date).toDateString()}),Object(O.jsx)("h1",{className:"main-heading",children:"FitMind: Mental Fitness Journal"}),Object(O.jsxs)(n.d,{children:[Object(O.jsx)(n.b,{path:"/login",element:Object(O.jsx)(S,{})}),Object(O.jsx)(n.b,{path:"/register",element:Object(O.jsx)(N,{})}),Object(O.jsx)(n.b,{path:"/",element:Object(O.jsx)(k,{children:Object(O.jsx)(f,{})})}),Object(O.jsx)(n.b,{path:"/mood-chart",element:Object(O.jsx)(k,{children:Object(O.jsx)(v,{})})}),Object(O.jsx)(n.b,{path:"/uplifting-messages",element:Object(O.jsx)(k,{children:Object(O.jsx)(w,{})})})]})]})})};l.a.createRoot(document.getElementById("root")).render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(C,{})}))}},[[54,1,2]]]);
//# sourceMappingURL=main.3c0eafa6.chunk.js.map